# Wardrobe: Liquid Glass (iOS 26+) ‚Äî Implementation Notes

> **–î–∞—Ç–∞:** 2025-12-21  
> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–±–µ–∑ —Ñ–ª–∏–∫–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ UI + —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é Liquid Glass –Ω–∞ —ç–∫—Ä–∞–Ω–µ Wardrobe. –°—Ç–∞—Ä—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –≤–µ—Ä—Å–∏–∏ iOS, force-remount –ø–æ–¥—Ö–æ–¥–∞–º–∏ –∏ –∑–∞–º–µ—Ç–∫–∞–º–∏ –ø—Ä–æ ¬´native menu –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é¬ª –±–æ–ª—å—à–µ –Ω–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã.

---

## üéØ –¶–µ–ª–∏

- iOS 26+ (–µ—Å–ª–∏ Liquid Glass —Ä–µ–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω) ‚Äî —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–π header (–ø–æ–∏—Å–∫ + –º–µ–Ω—é) –∏ —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–π FAB.
- iOS < 26 –∏ Android ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ UI.
- –£–±—Ä–∞—Ç—å –±–∞–≥ –ø–µ—Ä–≤–æ–≥–æ —Ö–æ–ª–æ–¥–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è: –∫–æ–≥–¥–∞ `GlassView` —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç, –Ω–æ –±–µ–∑ —Å—Ç–µ–∫–ª—è–Ω–Ω–æ–≥–æ —Ñ–æ–Ω–∞.
- –£–±—Ä–∞—Ç—å –º–µ—Ä—Ü–∞–Ω–∏–µ/—Ñ–ª–∏–∫ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ —Ö–µ–¥–µ—Ä–∞ –Ω–∞ iOS 26+.
- –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è –Ω–µ ¬´–ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å¬ª glass UI –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞—Ö.

---

## ‚úÖ –¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ (–∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ)

### 1) –ï–¥–∏–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã/–ø–æ–¥–¥–µ—Ä–∂–∫–∏

–ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—â–∏–π –º–æ–¥—É–ª—å:

- `utils/platform.ts`
  - `IS_IOS_26_OR_NEWER`
  - `CAN_USE_LIQUID_GLASS` (—É—á–∏—Ç—ã–≤–∞–µ—Ç –∏ iOS 26+, –∏ `isLiquidGlassAvailable()`)

–í—Å–µ glass-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —ç–∫—Ä–∞–Ω Wardrobe –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–±–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ö–µ–ª–ø–µ—Ä–æ–≤).

### 2) Deferred enable –Ω–∞ Wardrobe (—Ñ–∏–∫—Å ‚Äú–ø–µ—Ä–≤–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è‚Äù)

–í `app/(tabs)/wardrobe.tsx` —Å—Ç–µ–∫–ª—è–Ω–Ω–∞—è –≤–µ—Ç–∫–∞ UI –≤–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–µ —Å—Ä–∞–∑—É.

–ê–ª–≥–æ—Ä–∏—Ç–º –≤–∫–ª—é—á–µ–Ω–∏—è:

1. —ç–∫—Ä–∞–Ω –≤ —Ñ–æ–∫—É—Å–µ (`useFocusEffect`)
2. –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–¥–µ–ª–∞–ª –ø–µ—Ä–≤—ã–π layout (`onLayout`)
3. –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å –ø–µ—Ä–≤–∏—á–Ω—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (`InteractionManager.runAfterInteractions`)
4. –¥–≤–∞ –∫–∞–¥—Ä–∞ `requestAnimationFrame`
5. `setUseLiquidGlassUI(true)`

–≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ä–∞–Ω–Ω–µ–≥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `GlassView` –≤ –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ª–æ–π –µ—â—ë ¬´–Ω–µ –≥–æ—Ç–æ–≤¬ª.

### 3) Run-once: –±–µ–∑ –≤—ã–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ blur

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è `useLiquidGlassUI` –±–æ–ª—å—à–µ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Ö–æ–¥–µ —Å —Ç–∞–±–∞ ‚Äî —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è glass-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ ¬´–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è¬ª.

### 4) –ë–µ–∑ —Ñ–ª–∏–∫–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ —Ö–µ–¥–µ—Ä–∞

–ù–∞ iOS 26+ –ø—Ä–∏ `CAN_USE_LIQUID_GLASS === true` –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ö–µ–¥–µ—Ä –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –¥–∞–∂–µ –≤—Ä–µ–º–µ–Ω–Ω–æ.

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–§–∞–π–ª—ã:

- `components/ui/glass/GlassSearchBar.tsx` ‚Äî –ø–æ–∏—Å–∫ –≤ —Å—Ç–µ–∫–ª—è–Ω–Ω–æ–º —Å—Ç–∏–ª–µ
- `components/ui/glass/GlassDropdownMenu.tsx` ‚Äî —Ç—Ä–∏–≥–≥–µ—Ä-–∫–Ω–æ–ø–∫–∞ + –º–µ–Ω—é
- `components/ui/FAB.tsx` ‚Äî —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–π FAB –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ iOS 26+ (–ø—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω–æ–º Liquid Glass)

### Dropdown menu: –ø–æ—á–µ–º—É –Ω–µ ¬´–Ω–∞—Ç–∏–≤–Ω—ã–π UIMenu¬ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–í `GlassDropdownMenu.tsx` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è custom dropdown (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Expo Go). –í —Ñ–∞–π–ª–µ –µ—Å—Ç—å —Ñ–ª–∞–≥ `USE_NATIVE_MENU`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ —Å `@react-native-menu/menu`.

---

## –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∫–æ–¥–µ

- Wardrobe: `app/(tabs)/wardrobe.tsx`
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã: `utils/platform.ts`
- Glass-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `components/ui/glass/*`

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ü–æ–ª–Ω—ã–π kill –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí –∑–∞–ø—É—Å–∫ ‚Üí —Å—Ä–∞–∑—É Wardrobe:

- —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–π —Ñ–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω —Å—Ä–∞–∑—É.

2. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤ —Ç—É–¥–∞-—Å—é–¥–∞:

- glass UI –Ω–µ –¥–æ–ª–∂–µ–Ω ¬´–ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è¬ª/–º–∏–≥–∞—Ç—å.

3. Dropdown (‚Ä¶ menu):

- –æ—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å; –ø—É–Ω–∫—Ç—ã –¥–æ–ª–∂–Ω—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å; –Ω–µ—Ç ¬´–ø—Ä–æ–ø–∞–¥–∞–Ω–∏—è¬ª —Å—Ç–µ–∫–ª–∞.

4. FAB:

- –ø–æ—è–≤–ª—è–µ—Ç—Å—è/—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ (–≤ —Ç.—á. –≤ selection mode), –ø—Ä–∏ —ç—Ç–æ–º –Ω–∞ iOS 26+ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ glass.

6. **Dark mode**

- –¢—Ä–∏–≥–≥–µ—Ä-–∫–Ω–æ–ø–∫–∞ (Glass) –∏ –ø–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ (`PlatformColor`) –Ω–∞ iOS 26+.
- –°–∞–º dropdown (custom) –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω: –±–µ–ª—ã–π —Ñ–æ–Ω + —á—ë—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏ (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–µ–Ω—é/–º–æ–¥—É–ª–µ–π).

---

**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–î–∞—Ç–∞:** 2025-12-21
