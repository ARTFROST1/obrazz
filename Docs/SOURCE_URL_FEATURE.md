# Source URL Feature - Product Links from Shopping Browser

> **–î–∞—Ç–∞:** 14 –¥–µ–∫–∞–±—Ä—è 2025  
> **–í–µ—Ä—Å–∏—è:** 1.0  
> **–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
> **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π

---

## üéØ –¶–µ–ª—å Feature

–ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º **–æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–æ–≤–∞—Ä –≤ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–º –±—Ä–∞—É–∑–µ—Ä–µ** –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–µ—â–∏ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ —á–µ—Ä–µ–∑ Shopping Browser.

---

## üìä –ü—Ä–æ–±–ª–µ–º–∞

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤–µ—â–∏ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è —Ç–æ–ª—å–∫–æ URL —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`activeTab.currentUrl`)
- –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å –≥–∞–ª–µ—Ä–µ–µ–π —Ç–æ–≤–∞—Ä–æ–≤, —Å–æ—Ö—Ä–∞–Ω—è–ª–∞—Å—å —Å—Å—ã–ª–∫–∞ –Ω–∞ –≥–∞–ª–µ—Ä–µ—é, –∞ –Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–≤–∞—Ä
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–≥ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

**–†–µ—à–µ–Ω–∏–µ:**

- –ü–∞—Ä—Å–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö `<a>` —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å `productUrl` –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –æ–±—â–µ–≥–æ `sourceUrl`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: `productUrl` > `sourceUrl` > `undefined`
- –î–æ–±–∞–≤–∏—Ç—å UI –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Å—ã–ª–∫–∏ –≤ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–º –±—Ä–∞—É–∑–µ—Ä–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ò–∑–º–µ–Ω–µ–Ω–∏–π

### 1. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

**`types/models/store.ts`** - –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤–æ–µ –ø–æ–ª–µ:

```typescript
export interface DetectedImage {
  id: string;
  url: string;
  width: number;
  height: number;
  alt?: string;
  category?: string;
  confidence?: number;
  productUrl?: string; // üÜï URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ (–µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞)
}
```

---

### 2. –ü–∞—Ä—Å–∏–Ω–≥ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ç–æ–≤–∞—Ä—ã

**`utils/shopping/imageDetection.ts`** - –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `findProductUrl()`:

```javascript
function findProductUrl(img) {
  let element = img;
  let depth = 0;
  const maxDepth = 5; // –ò—â–µ–º –¥–æ 5 —É—Ä–æ–≤–Ω–µ–π –≤–≤–µ—Ä—Ö –ø–æ DOM

  while (element && depth < maxDepth) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç - —ç—Ç–æ —Å—Å—ã–ª–∫–∞
    if (element.tagName === 'A' && element.href) {
      const href = element.href;
      // –§–∏–ª—å—Ç—Ä—É–µ–º –Ω–µ—Ü–µ–ª–µ–≤—ã–µ —Å—Å—ã–ª–∫–∏ (–∫–æ—Ä–∑–∏–Ω–∞, –ø–æ–∏—Å–∫, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
      if (
        !/\/(cart|search|category|collection|catalog|list|filter)[\\/\\?]/i.test(href) &&
        !/\/(login|register|account|checkout)/i.test(href)
      ) {
        return href;
      }
    }
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º data-–∞—Ç—Ä–∏–±—É—Ç—ã
    if (element.dataset && (element.dataset.href || element.dataset.url || element.dataset.link)) {
      return element.dataset.href || element.dataset.url || element.dataset.link;
    }
    element = element.parentElement;
    depth++;
  }
  return null;
}
```

**–õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**

- ‚úÖ –ü—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è: `/product/123`, `/item/abc`, `/p/123456`, `/—Ç–æ–≤–∞—Ä—ã/name-slug`
- ‚ùå –û—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è: `/cart`, `/search?q=...`, `/category/men`, `/login`, `/checkout`

---

### 3. –î–µ—Ç–µ–∫—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**`utils/shopping/imageDetection.ts`** - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `detectImages()`:

```javascript
const productUrl = findProductUrl(img);

detectedImages.push({
  id: id,
  url: img.src,
  width: img.naturalWidth || img.width,
  height: img.naturalHeight || img.height,
  alt: img.alt || '',
  productUrl: productUrl || undefined, // üÜï –î–æ–±–∞–≤–ª—è–µ–º productUrl
});
```

---

### 4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ sourceUrl

**`app/add-item.tsx`** - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `handleSave()`:

```typescript
// Get product URL from batch item if available
let finalSourceUrl = webImageUrl;
if (isBatchMode) {
  const batchItem = batchQueue[currentBatchIndex];
  if (batchItem?.image?.productUrl) {
    // Use productUrl if available (specific product page)
    finalSourceUrl = batchItem.image.productUrl;
  } else if (batchItem?.sourceUrl) {
    // Fallback to sourceUrl (page where image was found)
    finalSourceUrl = batchItem.sourceUrl;
  }
}

const newItem = await itemService.createItem({
  // ... other fields
  metadata: {
    source: imageSource || 'camera',
    sourceUrl: isFromWeb ? finalSourceUrl : undefined, // üÜï –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç productUrl
  },
});
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**

1. `productUrl` (—Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–≤–∞—Ä)
2. `sourceUrl` (—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –≥–¥–µ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
3. `undefined` (–µ—Å–ª–∏ –≤–µ—â—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–µ –∏–∑ –≤–µ–±–∞)

---

### 5. UI –∫–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω–µ"

**`app/item/[id].tsx`** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–¥ Delete:

```tsx
{
  /* Open in Browser Button - only if sourceUrl exists */
}
{
  item.metadata?.sourceUrl && (
    <View style={styles.section}>
      <TouchableOpacity
        style={styles.sourceButton}
        onPress={() => {
          const url = item.metadata?.sourceUrl;
          if (url) {
            Linking.openURL(url).catch((err) => {
              console.error('Failed to open URL:', err);
              Alert.alert('–û—à–∏–±–∫–∞', '–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É');
            });
          }
        }}
        activeOpacity={0.7}
      >
        <Ionicons name="open-outline" size={20} color="#007AFF" />
        <Text style={styles.sourceButtonText}>–û—Ç–∫—Ä—ã—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω–µ</Text>
        <Ionicons name="chevron-forward" size={20} color="#007AFF" />
      </TouchableOpacity>
    </View>
  );
}
```

**–°—Ç–∏–ª–∏:**

```typescript
sourceButton: {
  alignItems: 'center',
  backgroundColor: '#F5F5F5',
  borderRadius: 12,
  flexDirection: 'row',
  justifyContent: 'center',
  paddingVertical: 16,
  gap: 8,
},
sourceButtonText: {
  color: '#007AFF',
  fontSize: 16,
  fontWeight: '600',
  flex: 1,
  textAlign: 'center',
},
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**

- –ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏** `item.metadata?.sourceUrl` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –≤ **—Å—Ç–æ—Ä–æ–Ω–Ω–µ–º –±—Ä–∞—É–∑–µ—Ä–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** (Safari/Chrome)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Linking.openURL()` –∏–∑ React Native

---

## üì± User Flow

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–µ—â–∏ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Shopping Browser
     ‚Üì
2. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ZARA)
     ‚Üì
3. –°–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ç–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–¥–µ–∂–¥—ã
     ‚Üì
4. findProductUrl() –Ω–∞—Ö–æ–¥–∏—Ç <a href="/product/12345">
     ‚Üì
5. DetectedImage —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å productUrl = "/product/12345"
     ‚Üì
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –≥–∞—Ä–¥–µ—Ä–æ–±
     ‚Üì
7. –í metadata.sourceUrl —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π URL —Ç–æ–≤–∞—Ä–∞
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–µ—â–∏ –ø–æ–∑–∂–µ:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –≤–µ—â–∏
     ‚Üì
2. –í–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω–µ"
     ‚Üì
3. –ù–∞–∂–∏–º–∞–µ—Ç ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Safari/Chrome
     ‚Üì
4. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –≤ ZARA
```

---

## üîç –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏–º–µ—Ä 1: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

**–°–∞–π—Ç:** `https://zara.com/product/12345-shirt`

**HTML:**

```html
<a href="/product/12345-shirt">
  <img src="https://cdn.zara.com/shirt.jpg" alt="Blue shirt" />
</a>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

- `productUrl`: `"https://zara.com/product/12345-shirt"` ‚úÖ
- –í –ë–î —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è: `metadata.sourceUrl = "https://zara.com/product/12345-shirt"`

---

### –ü—Ä–∏–º–µ—Ä 2: –ì–∞–ª–µ—Ä–µ—è —Ç–æ–≤–∞—Ä–æ–≤

**–°–∞–π—Ç:** `https://hm.com/men/shirts`

**HTML:**

```html
<div class="product-grid">
  <a href="/product/abc123">
    <img src="https://cdn.hm.com/shirt1.jpg" />
  </a>
  <a href="/product/def456">
    <img src="https://cdn.hm.com/shirt2.jpg" />
  </a>
</div>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ø–µ—Ä–≤–æ–π —Ä—É–±–∞—à–∫–∏:**

- `productUrl`: `"https://hm.com/product/abc123"` ‚úÖ
- –í –ë–î —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è: `metadata.sourceUrl = "https://hm.com/product/abc123"` (–Ω–µ –≥–∞–ª–µ—Ä–µ—è!)

---

### –ü—Ä–∏–º–µ—Ä 3: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–µ–∑ —Å—Å—ã–ª–∫–∏

**HTML:**

```html
<div>
  <img src="https://cdn.shop.com/item.jpg" />
</div>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

- `productUrl`: `undefined`
- –í –ë–î —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è: `metadata.sourceUrl = "https://shop.com/current-page"` (URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–°—Ç–∞—Ä—ã–µ –≤–µ—â–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è) –±—É–¥—É—Ç –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ `sourceUrl` –∏–∑ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–æ–≤—ã—Ö –≤–µ—â–µ–π.

### 2. –ö–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏:

- `metadata.sourceUrl === undefined` (–≤–µ—â—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å –∫–∞–º–µ—Ä—ã/–≥–∞–ª–µ—Ä–µ–∏)
- `metadata.source !== 'web'`

### 3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫

–§—É–Ω–∫—Ü–∏—è `findProductUrl()` **–ù–ï** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç:

- –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ—Ä–∑–∏–Ω—É/checkout
- –°—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–∏—Å–∫/—Ñ–∏–ª—å—Ç—Ä—ã
- –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/–∫–æ–ª–ª–µ–∫—Ü–∏–∏
- –°—Å—ã–ª–∫–∏ –Ω–∞ –ª–æ–≥–∏–Ω/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é

–≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ—Ü–µ–ª–µ–≤—ã—Ö URL.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Manual Test Cases:

1. **–¢–µ—Å—Ç 1: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞**
   - –û—Ç–∫—Ä—ã—Ç—å ZARA/H&M —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞
   - –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—â—å
   - –î–æ–±–∞–≤–∏—Ç—å –≤ –≥–∞—Ä–¥–µ—Ä–æ–±
   - **–û–∂–∏–¥–∞–µ—Ç—Å—è:** `sourceUrl` = URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞
   - –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω –≤–µ—â–∏ ‚Üí –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É
   - **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Safari/Chrome —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π

2. **–¢–µ—Å—Ç 2: –ì–∞–ª–µ—Ä–µ—è —Ç–æ–≤–∞—Ä–æ–≤**
   - –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏
   - –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—â–µ–π
   - –î–æ–±–∞–≤–∏—Ç—å –æ–¥–Ω—É –≤ –≥–∞—Ä–¥–µ—Ä–æ–±
   - **–û–∂–∏–¥–∞–µ—Ç—Å—è:** `sourceUrl` = URL –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞, –Ω–µ –≥–∞–ª–µ—Ä–µ–∏

3. **–¢–µ—Å—Ç 3: –í–µ—â—å —Å –∫–∞–º–µ—Ä—ã**
   - –î–æ–±–∞–≤–∏—Ç—å –≤–µ—â—å —Å –∫–∞–º–µ—Ä—ã/–≥–∞–ª–µ—Ä–µ–∏
   - –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω –≤–µ—â–∏
   - **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω–µ" –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

4. **–¢–µ—Å—Ç 4: –°—Ç–∞—Ä–∞—è –≤–µ—â—å –∏–∑ –≤–µ–±–∞**
   - –í–µ—â—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω –≤–µ—â–∏
   - **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `sourceUrl` (–º–æ–∂–µ—Ç –±—ã—Ç—å –≥–∞–ª–µ—Ä–µ—è)

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

1. `types/models/store.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `productUrl`
2. `utils/shopping/imageDetection.ts` - —Ñ—É–Ω–∫—Ü–∏—è `findProductUrl()` + –æ–±–Ω–æ–≤–ª–µ–Ω `detectImages()`
3. `app/add-item.tsx` - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç `productUrl` > `sourceUrl`
4. `app/item/[id].tsx` - UI –∫–Ω–æ–ø–∫–∞ + –∏–º–ø–æ—Ä—Ç `Linking`

**–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `Linking` –∏–∑ React Native)

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —ç–∫—Ä–∞–Ω—ã:**

- Shopping Browser (–¥–µ—Ç–µ–∫—Ü–∏—è)
- Add Item Screen (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
- Item Detail Screen (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (Future)

1. **Deep Links** - –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Ç–æ–≤–∞—Ä –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–∞–≥–∞–∑–∏–Ω–∞, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (ZARA app, H&M app)
2. **Price Tracking** - –ø–∞—Ä—Å–∏—Ç—å —Ü–µ–Ω—É —Ç–æ–≤–∞—Ä–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. **Availability Check** - –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–∞ –ø–æ —Å—Å—ã–ª–∫–µ
4. **Affiliate Links** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏
5. **Share Link** - –∫–Ω–æ–ø–∫–∞ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Ç–æ–≤–∞—Ä

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [WEB_CAPTURE_SHOPPING_BROWSER.md](./WEB_CAPTURE_SHOPPING_BROWSER.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Shopping Browser
- [AppMapobrazz.md](./AppMapobrazz.md) - –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [Implementation.md](./Implementation.md) - Roadmap –ø—Ä–æ–µ–∫—Ç–∞

---

## ‚úÖ Checklist –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `productUrl` –≤ —Ç–∏–ø—ã
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `findProductUrl()`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ `add-item.tsx`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ UI –∫–Ω–æ–ø–∫–∞ –≤ —ç–∫—Ä–∞–Ω –≤–µ—â–∏
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `Linking`
- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] Manual testing –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö (ZARA, H&M, Asos)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ iOS/Android

---

**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–î–∞—Ç–∞:** 14 –¥–µ–∫–∞–±—Ä—è 2025
